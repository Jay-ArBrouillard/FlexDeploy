<?xml version="1.0" encoding="Unicode"?>
<ns0:WorkFlow xmlns:ns1="http://flexagon.com/flexdeploy/workflow/common" xmlns:ns0="http://flexagon.com/flexdeploy/workflow">
   <ns1:Name>Test Utility</ns1:Name>
   <ns1:Description></ns1:Description>
   <ns0:Inputs>
      <ns0:Variable>
         <ns1:Name>FOLDER</ns1:Name>
         <ns1:Type>String</ns1:Type>
         <ns0:returnAsOutput>false</ns0:returnAsOutput>
         <ns1:isConstant>false</ns1:isConstant>
         <ns1:DisplayName>Folder Name</ns1:DisplayName>
         <ns1:Required>true</ns1:Required>
      </ns0:Variable>
      <ns0:Variable>
         <ns1:Name>RESTART</ns1:Name>
         <ns1:Type>Boolean</ns1:Type>
         <ns0:returnAsOutput>false</ns0:returnAsOutput>
         <ns1:isConstant>false</ns1:isConstant>
         <ns1:InitialValue>false</ns1:InitialValue>
         <ns1:DisplayName>Restart</ns1:DisplayName>
         <ns1:Required>false</ns1:Required>
         <ns1:Encrypted>false</ns1:Encrypted>
         <ns1:Multiselect>false</ns1:Multiselect>
      </ns0:Variable>
   </ns0:Inputs>
   <ns0:Variables>
      <ns0:Variable>
         <ns1:Name>varFolder</ns1:Name>
         <ns1:Type>String</ns1:Type>
         <ns0:returnAsOutput>true</ns0:returnAsOutput>
         <ns1:isConstant>false</ns1:isConstant>
      </ns0:Variable>
      <ns0:Variable>
         <ns1:Name>varRestart</ns1:Name>
         <ns1:Type>Boolean</ns1:Type>
         <ns0:returnAsOutput>false</ns0:returnAsOutput>
         <ns1:isConstant>false</ns1:isConstant>
         <ns1:InitialValue>false</ns1:InitialValue>
         <ns1:Required>false</ns1:Required>
         <ns1:Encrypted>false</ns1:Encrypted>
         <ns1:Multiselect>false</ns1:Multiselect>
      </ns0:Variable>
      <ns0:Variable>
         <ns1:Name>varCounter</ns1:Name>
         <ns1:Type>Integer</ns1:Type>
         <ns0:returnAsOutput>true</ns0:returnAsOutput>
         <ns1:isConstant>false</ns1:isConstant>
         <ns1:InitialValue>0</ns1:InitialValue>
         <ns1:Required>false</ns1:Required>
         <ns1:Encrypted>false</ns1:Encrypted>
         <ns1:Multiselect>false</ns1:Multiselect>
      </ns0:Variable>
   </ns0:Variables>
   <ns0:Steps>
      <ns0:Step>
         <ns1:Name>Wait 2 Seconds</ns1:Name>
         <ns1:StepId>1</ns1:StepId>
         <ns0:Wait>
            <ns0:Milliseconds>
               <ns0:Expression>2000</ns0:Expression>
            </ns0:Milliseconds>
         </ns0:Wait>
      </ns0:Step>
      <ns0:Step>
         <ns1:Name>Assign Folder Name</ns1:Name>
         <ns1:StepId>2</ns1:StepId>
         <ns0:Assign>
            <ns0:From>
               <ns0:Expression>FOLDER</ns0:Expression>
            </ns0:From>
            <ns0:To>varFolder</ns0:To>
         </ns0:Assign>
      </ns0:Step>
      <ns0:Step>
         <ns1:Name>If Restart is Request</ns1:Name>
         <ns1:StepId>3</ns1:StepId>
         <ns0:If>
            <ns0:Condition>
               <ns0:Expression>RESTART</ns0:Expression>
            </ns0:Condition>
            <ns0:Steps>
               <ns0:Step>
                  <ns1:Name>Assign Restart Variable</ns1:Name>
                  <ns1:StepId>3.1</ns1:StepId>
                  <ns0:Assign>
                     <ns0:From>
                        <ns0:Expression>RESTART</ns0:Expression>
                     </ns0:From>
                     <ns0:To>varRestart</ns0:To>
                  </ns0:Assign>
               </ns0:Step>
            </ns0:Steps>
            <ns0:Else>
               <ns0:Steps>
                  <ns0:Step>
                     <ns1:Name>Increment Counter Loop</ns1:Name>
                     <ns1:StepId>3.2</ns1:StepId>
                     <ns0:While>
                        <ns0:Condition>
                           <ns0:Expression>varCounter &lt; CUSTOM_PROPERTY_COUNTER </ns0:Expression>
                        </ns0:Condition>
                        <ns0:Steps>
                           <ns0:Step>
                              <ns1:Name>Increment counter variable</ns1:Name>
                              <ns1:StepId>3.2.1</ns1:StepId>
                              <ns0:Assign>
                                 <ns0:From>
                                    <ns0:Expression>varCounter + 1</ns0:Expression>
                                 </ns0:From>
                                 <ns0:To>varCounter</ns0:To>
                              </ns0:Assign>
                           </ns0:Step>
                        </ns0:Steps>
                     </ns0:While>
                  </ns0:Step>
               </ns0:Steps>
            </ns0:Else>
         </ns0:If>
      </ns0:Step>
   </ns0:Steps>
</ns0:WorkFlow>